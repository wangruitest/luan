(function(b){function c(d){b(d).addClass("progressbar");b(d).html('<div class="progressbar-text"></div><div class="progressbar-value"><div class="progressbar-text"></div></div>');return b(d)}function a(g,f){var e=b.data(g,"progressbar").options;var d=b.data(g,"progressbar").bar;if(f){e.width=f}d._outerWidth(e.width)._outerHeight(e.height);d.find("div.progressbar-text").width(d.width());d.find("div.progressbar-text,div.progressbar-value").css({height:d.height()+"px",lineHeight:d.height()+"px"})}b.fn.progressbar=function(e,d){if(typeof e=="string"){var f=b.fn.progressbar.methods[e];if(f){return f(this,d)}}e=e||{};return this.each(function(){var g=b.data(this,"progressbar");if(g){b.extend(g.options,e)}else{g=b.data(this,"progressbar",{options:b.extend({},b.fn.progressbar.defaults,b.fn.progressbar.parseOptions(this),e),bar:c(this)})}b(this).progressbar("setValue",g.options.value);a(this)})};b.fn.progressbar.methods={options:function(d){return b.data(d[0],"progressbar").options},resize:function(e,d){return e.each(function(){a(this,d)})},getValue:function(d){return b.data(d[0],"progressbar").options.value},setValue:function(e,d){if(d<0){d=0}if(d>100){d=100}return e.each(function(){var f=b.data(this,"progressbar").options;var h=f.text.replace(/{value}/,d);var g=f.value;f.value=d;b(this).find("div.progressbar-value").width(d+"%");b(this).find("div.progressbar-text").html(h);if(g!=d){f.onChange.call(this,d,g)}})}};b.fn.progressbar.parseOptions=function(d){return b.extend({},b.parser.parseOptions(d,["width","height","text",{value:"number"}]))};b.fn.progressbar.defaults={width:"auto",height:22,value:0,text:"{value}%",onChange:function(e,d){}}})(jQuery);