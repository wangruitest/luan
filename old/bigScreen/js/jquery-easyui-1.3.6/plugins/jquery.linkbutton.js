(function(c){function d(h){var g=c.data(h,"linkbutton").options;var e=c(h).empty();e.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected");e.removeClass("l-btn-small l-btn-medium l-btn-large").addClass("l-btn-"+g.size);if(g.plain){e.addClass("l-btn-plain")}if(g.selected){e.addClass(g.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected")}e.attr("group",g.group||"");e.attr("id",g.id||"");var f=c('<span class="l-btn-left"></span>').appendTo(e);if(g.text){c('<span class="l-btn-text"></span>').html(g.text).appendTo(f)}else{c('<span class="l-btn-text l-btn-empty">&nbsp;</span>').appendTo(f)}if(g.iconCls){c('<span class="l-btn-icon">&nbsp;</span>').addClass(g.iconCls).appendTo(f);f.addClass("l-btn-icon-"+g.iconAlign)}e.unbind(".linkbutton").bind("focus.linkbutton",function(){if(!g.disabled){c(this).addClass("l-btn-focus")}}).bind("blur.linkbutton",function(){c(this).removeClass("l-btn-focus")}).bind("click.linkbutton",function(){if(!g.disabled){if(g.toggle){if(g.selected){c(this).linkbutton("unselect")}else{c(this).linkbutton("select")}}g.onClick.call(this)}return false});b(h,g.selected);a(h,g.disabled)}function b(g,f){var e=c.data(g,"linkbutton").options;if(f){if(e.group){c('a.l-btn[group="'+e.group+'"]').each(function(){var h=c(this).linkbutton("options");if(h.toggle){c(this).removeClass("l-btn-selected l-btn-plain-selected");h.selected=false}})}c(g).addClass(e.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected");e.selected=true}else{if(!e.group){c(g).removeClass("l-btn-selected l-btn-plain-selected");e.selected=false}}}function a(i,h){var g=c.data(i,"linkbutton");var f=g.options;c(i).removeClass("l-btn-disabled l-btn-plain-disabled");if(h){f.disabled=true;var e=c(i).attr("href");if(e){g.href=e;c(i).attr("href","javascript:void(0)")}if(i.onclick){g.onclick=i.onclick;i.onclick=null}f.plain?c(i).addClass("l-btn-disabled l-btn-plain-disabled"):c(i).addClass("l-btn-disabled")}else{f.disabled=false;if(g.href){c(i).attr("href",g.href)}if(g.onclick){i.onclick=g.onclick}}}c.fn.linkbutton=function(f,e){if(typeof f=="string"){return c.fn.linkbutton.methods[f](this,e)}f=f||{};return this.each(function(){var g=c.data(this,"linkbutton");if(g){c.extend(g.options,f)}else{c.data(this,"linkbutton",{options:c.extend({},c.fn.linkbutton.defaults,c.fn.linkbutton.parseOptions(this),f)});c(this).removeAttr("disabled")}d(this)})};c.fn.linkbutton.methods={options:function(e){return c.data(e[0],"linkbutton").options},enable:function(e){return e.each(function(){a(this,false)})},disable:function(e){return e.each(function(){a(this,true)})},select:function(e){return e.each(function(){b(this,true)})},unselect:function(e){return e.each(function(){b(this,false)})}};c.fn.linkbutton.parseOptions=function(f){var e=c(f);return c.extend({},c.parser.parseOptions(f,["id","iconCls","iconAlign","group","size",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:(e.attr("disabled")?true:undefined),text:c.trim(e.html()),iconCls:(e.attr("icon")||e.attr("iconCls"))})};c.fn.linkbutton.defaults={id:null,disabled:false,toggle:false,selected:false,group:null,plain:false,text:"",iconCls:null,iconAlign:"left",size:"small",onClick:function(){}}})(jQuery);