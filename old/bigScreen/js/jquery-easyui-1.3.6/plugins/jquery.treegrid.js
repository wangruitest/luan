(function(e){function f(C){var B=e.data(C,"treegrid");var A=B.options;e(C).datagrid(e.extend({},A,{url:null,data:null,loader:function(){return false},onBeforeLoad:function(){return false},onLoadSuccess:function(){},onResizeColumn:function(E,D){n(C);A.onResizeColumn.call(C,E,D)},onSortColumn:function(F,E){A.sortName=F;A.sortOrder=E;if(A.remoteSort){a(C)}else{var D=e(C).treegrid("getData");q(C,0,D)}A.onSortColumn.call(C,F,E)},onBeforeEdit:function(E,D){if(A.onBeforeEdit.call(C,D)==false){return false}},onAfterEdit:function(F,E,D){A.onAfterEdit.call(C,E,D)},onCancelEdit:function(E,D){A.onCancelEdit.call(C,D)},onSelect:function(D){A.onSelect.call(C,c(C,D))},onUnselect:function(D){A.onUnselect.call(C,c(C,D))},onCheck:function(D){A.onCheck.call(C,c(C,D))},onUncheck:function(D){A.onUncheck.call(C,c(C,D))},onClickRow:function(D){A.onClickRow.call(C,c(C,D))},onDblClickRow:function(D){A.onDblClickRow.call(C,c(C,D))},onClickCell:function(E,D){A.onClickCell.call(C,D,c(C,E))},onDblClickCell:function(E,D){A.onDblClickCell.call(C,D,c(C,E))},onRowContextMenu:function(E,D){A.onContextMenu.call(C,E,c(C,D))}}));if(!A.columns){var z=e.data(C,"datagrid").options;A.columns=z.columns;A.frozenColumns=z.frozenColumns}B.dc=e.data(C,"datagrid").dc;if(A.pagination){var y=e(C).datagrid("getPager");y.pagination({pageNumber:A.pageNumber,pageSize:A.pageSize,pageList:A.pageList,onSelectPage:function(E,D){A.pageNumber=E;A.pageSize=D;a(C)}});A.pageSize=y.pagination("options").pageSize}}function n(y,E){var D=e.data(y,"datagrid").options;var z=e.data(y,"datagrid").dc;if(!z.body1.is(":empty")&&(!D.nowrap||D.autoRowHeight)){if(E!=undefined){var C=h(y,E);for(var A=0;A<C.length;A++){B(C[A][D.idField])}}}e(y).datagrid("fixRowHeight",E);function B(H){var F=D.finder.getTr(y,H,"body",1);var I=D.finder.getTr(y,H,"body",2);F.css("height","");I.css("height","");var G=Math.max(F.height(),I.height());F.css("height",G);I.css("height",G)}}function g(A){var y=e.data(A,"datagrid").dc;var z=e.data(A,"treegrid").options;if(!z.rownumbers){return}y.body1.find("div.datagrid-cell-rownumber").each(function(B){e(this).html(B+1)})}function k(B){var y=e.data(B,"datagrid").dc;var A=y.body1.add(y.body2);var z=(e.data(A[0],"events")||e._data(A[0],"events")).click[0].handler;y.body1.add(y.body2).bind("mouseover",function(E){var C=e(E.target);var D=C.closest("tr.datagrid-row");if(!D.length){return}if(C.hasClass("tree-hit")){C.hasClass("tree-expanded")?C.addClass("tree-expanded-hover"):C.addClass("tree-collapsed-hover")}E.stopPropagation()}).bind("mouseout",function(E){var C=e(E.target);var D=C.closest("tr.datagrid-row");if(!D.length){return}if(C.hasClass("tree-hit")){C.hasClass("tree-expanded")?C.removeClass("tree-expanded-hover"):C.removeClass("tree-collapsed-hover")}E.stopPropagation()}).unbind("click").bind("click",function(E){var C=e(E.target);var D=C.closest("tr.datagrid-row");if(!D.length){return}if(C.hasClass("tree-hit")){w(B,D.attr("node-id"))}else{z(E)}E.stopPropagation()})}function u(A,z){var F=e.data(A,"treegrid").options;var y=F.finder.getTr(A,z,"body",1);var E=F.finder.getTr(A,z,"body",2);var D=e(A).datagrid("getColumnFields",true).length+(F.rownumbers?1:0);var C=e(A).datagrid("getColumnFields",false).length;B(y,D);B(E,C);function B(H,G){e('<tr class="treegrid-tr-tree"><td style="border:0px" colspan="'+G+'"><div></div></td></tr>').insertAfter(H)}}function q(I,H,G,F){var E=e.data(I,"treegrid");var D=E.options;var K=E.dc;G=D.loadFilter.call(I,G,H);var C=c(I,H);if(C){var B=D.finder.getTr(I,H,"body",1);var A=D.finder.getTr(I,H,"body",2);var L=B.next("tr.treegrid-tr-tree").children("td").children("div");var J=A.next("tr.treegrid-tr-tree").children("td").children("div");if(!F){C.children=[]}}else{var L=K.body1;var J=K.body2;if(!F){E.data=[]}}if(!F){L.empty();J.empty()}if(D.view.onBeforeRender){D.view.onBeforeRender.call(D.view,I,H,G)}D.view.render.call(D.view,I,L,true);D.view.render.call(D.view,I,J,false);if(D.showFooter){D.view.renderFooter.call(D.view,I,K.footer1,true);D.view.renderFooter.call(D.view,I,K.footer2,false)}if(D.view.onAfterRender){D.view.onAfterRender.call(D.view,I)}D.onLoadSuccess.call(I,C,G);if(!H&&D.pagination){var z=e.data(I,"treegrid").total;var y=e(I).datagrid("getPager");if(y.pagination("options").total!=z){y.pagination({total:z})}}n(I);g(I);e(I).treegrid("setSelectionState");e(I).treegrid("autoSizeColumn")}function a(D,C,A,y,H){var G=e.data(D,"treegrid").options;var F=e(D).datagrid("getPanel").find("div.datagrid-body");if(A){G.queryParams=A}var E=e.extend({},G.queryParams);if(G.pagination){e.extend(E,{page:G.pageNumber,rows:G.pageSize})}if(G.sortName){e.extend(E,{sort:G.sortName,order:G.sortOrder})}var I=c(D,C);if(G.onBeforeLoad.call(D,I,E)==false){return}var B=F.find('tr[node-id="'+C+'"] span.tree-folder');B.addClass("tree-loading");e(D).treegrid("loading");var z=G.loader.call(D,E,function(J){B.removeClass("tree-loading");e(D).treegrid("loaded");q(D,C,J,y);if(H){H()}},function(){B.removeClass("tree-loading");e(D).treegrid("loaded");G.onLoadError.apply(D,arguments);if(H){H()}});if(z==false){B.removeClass("tree-loading");e(D).treegrid("loaded")}}function o(z){var y=l(z);if(y.length){return y[0]}else{return null}}function l(y){return e.data(y,"treegrid").data}function i(y,A){var z=c(y,A);if(z._parentId){return c(y,z._parentId)}else{return null}}function h(E,A){var z=e.data(E,"treegrid").options;var y=e(E).datagrid("getPanel").find("div.datagrid-view2 div.datagrid-body");var F=[];if(A){D(A)}else{var C=l(E);for(var B=0;B<C.length;B++){F.push(C[B]);D(C[B][z.idField])}}function D(K){var J=c(E,K);if(J&&J.children){for(var H=0,G=J.children.length;H<G;H++){var I=J.children[H];F.push(I);D(I[z.idField])}}}return F}function t(C,B){if(!B){return 0}var A=e.data(C,"treegrid").options;var z=e(C).datagrid("getPanel").children("div.datagrid-view");var y=z.find('div.datagrid-body tr[node-id="'+B+'"]').children('td[field="'+A.treeField+'"]');return y.find("span.tree-indent,span.tree-hit").length}function c(y,D){var B=e.data(y,"treegrid").options;var A=e.data(y,"treegrid").data;var F=[A];while(F.length){var E=F.shift();for(var C=0;C<E.length;C++){var z=E[C];if(z[B.idField]==D){return z}else{if(z.children){F.push(z.children)}}}}return null}function r(E,y){var D=e.data(E,"treegrid").options;var B=c(E,y);var A=D.finder.getTr(E,y);var z=A.find("span.tree-hit");if(z.length==0){return}if(z.hasClass("tree-collapsed")){return}if(D.onBeforeCollapse.call(E,B)==false){return}z.removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed");z.next().removeClass("tree-folder-open");B.state="closed";A=A.next("tr.treegrid-tr-tree");var C=A.children("td").children("div");if(D.animate){C.slideUp("normal",function(){e(E).treegrid("autoSizeColumn");n(E,y);D.onCollapse.call(E,B)})}else{C.hide();e(E).treegrid("autoSizeColumn");n(E,y);D.onCollapse.call(E,B)}}function d(F,E){var C=e.data(F,"treegrid").options;var G=C.finder.getTr(F,E);var y=G.find("span.tree-hit");var H=c(F,E);if(y.length==0){return}if(y.hasClass("tree-expanded")){return}if(C.onBeforeExpand.call(F,H)==false){return}y.removeClass("tree-collapsed tree-collapsed-hover").addClass("tree-expanded");y.next().addClass("tree-folder-open");var B=G.next("tr.treegrid-tr-tree");if(B.length){var D=B.children("td").children("div");A(D)}else{u(F,H[C.idField]);var B=G.next("tr.treegrid-tr-tree");var D=B.children("td").children("div");D.hide();var z=e.extend({},C.queryParams||{});z.id=H[C.idField];a(F,H[C.idField],z,true,function(){if(D.is(":empty")){B.remove()}else{A(D)}})}function A(I){H.state="open";if(C.animate){I.slideDown("normal",function(){e(F).treegrid("autoSizeColumn");n(F,E);C.onExpand.call(F,H)})}else{I.show();e(F).treegrid("autoSizeColumn");n(F,E);C.onExpand.call(F,H)}}}function w(y,A){var z=e.data(y,"treegrid").options;var C=z.finder.getTr(y,A);var B=C.find("span.tree-hit");if(B.hasClass("tree-expanded")){r(y,A)}else{d(y,A)}}function b(B,A){var y=e.data(B,"treegrid").options;var z=h(B,A);if(A){z.unshift(c(B,A))}for(var C=0;C<z.length;C++){r(B,z[C][y.idField])}}function p(y,C){var B=e.data(y,"treegrid").options;var A=h(y,C);if(C){A.unshift(c(y,C))}for(var z=0;z<A.length;z++){d(y,A[z][B.idField])}}function j(C,B){var z=e.data(C,"treegrid").options;var A=[];var D=i(C,B);while(D){var E=D[z.idField];A.unshift(E);D=i(C,E)}for(var y=0;y<A.length;y++){d(C,A[y])}}function m(E,B){var A=e.data(E,"treegrid").options;if(B.parent){var D=A.finder.getTr(E,B.parent);if(D.next("tr.treegrid-tr-tree").length==0){u(E,B.parent)}var z=D.children('td[field="'+A.treeField+'"]').children("div.datagrid-cell");var y=z.children("span.tree-icon");if(y.hasClass("tree-file")){y.removeClass("tree-file").addClass("tree-folder tree-folder-open");var C=e('<span class="tree-hit tree-expanded"></span>').insertBefore(y);if(C.prev().length){C.prev().remove()}}}q(E,B.parent,B.data,true)}function x(B,A){var C=A.before||A.after;var z=e.data(B,"treegrid").options;var y=i(B,C);m(B,{parent:(y?y[z.idField]:null),data:[A.data]});D(true);D(false);g(B);function D(J){var I=J?1:2;var H=z.finder.getTr(B,A.data[z.idField],"body",I);var G=H.closest("table.datagrid-btable");H=H.parent().children();var F=z.finder.getTr(B,C,"body",I);if(A.before){H.insertBefore(F)}else{var E=F.next("tr.treegrid-tr-tree");H.insertAfter(E.length?E:F)}G.remove()}}function v(A,z){var y=e.data(A,"treegrid");e(A).datagrid("deleteRow",z);g(A);y.total-=1;e(A).datagrid("getPager").pagination("refresh",{total:y.total})}e.fn.treegrid=function(z,y){if(typeof z=="string"){var A=e.fn.treegrid.methods[z];if(A){return A(this,y)}else{return this.datagrid(z,y)}}z=z||{};return this.each(function(){var B=e.data(this,"treegrid");if(B){e.extend(B.options,z)}else{B=e.data(this,"treegrid",{options:e.extend({},e.fn.treegrid.defaults,e.fn.treegrid.parseOptions(this),z),data:[]})}f(this);if(B.options.data){e(this).treegrid("loadData",B.options.data)}a(this);k(this)})};e.fn.treegrid.methods={options:function(y){return e.data(y[0],"treegrid").options},resize:function(z,y){return z.each(function(){e(this).datagrid("resize",y)})},fixRowHeight:function(z,y){return z.each(function(){n(this,y)})},loadData:function(z,y){return z.each(function(){q(this,y.parent,y)})},load:function(z,y){return z.each(function(){e(this).treegrid("options").pageNumber=1;e(this).treegrid("getPager").pagination({pageNumber:1});e(this).treegrid("reload",y)})},reload:function(z,y){return z.each(function(){var B=e(this).treegrid("options");var A={};if(typeof y=="object"){A=y}else{A=e.extend({},B.queryParams);A.id=y}if(A.id){var D=e(this).treegrid("find",A.id);if(D.children){D.children.splice(0,D.children.length)}B.queryParams=A;var C=B.finder.getTr(this,A.id);C.next("tr.treegrid-tr-tree").remove();C.find("span.tree-hit").removeClass("tree-expanded tree-expanded-hover").addClass("tree-collapsed");d(this,A.id)}else{a(this,null,A)}})},reloadFooter:function(z,y){return z.each(function(){var B=e.data(this,"treegrid").options;var A=e.data(this,"datagrid").dc;if(y){e.data(this,"treegrid").footer=y}if(B.showFooter){B.view.renderFooter.call(B.view,this,A.footer1,true);B.view.renderFooter.call(B.view,this,A.footer2,false);if(B.view.onAfterRender){B.view.onAfterRender.call(B.view,this)}e(this).treegrid("fixRowHeight")}})},getData:function(y){return e.data(y[0],"treegrid").data},getFooterRows:function(y){return e.data(y[0],"treegrid").footer},getRoot:function(y){return o(y[0])},getRoots:function(y){return l(y[0])},getParent:function(z,y){return i(z[0],y)},getChildren:function(z,y){return h(z[0],y)},getLevel:function(z,y){return t(z[0],y)},find:function(z,y){return c(z[0],y)},isLeaf:function(C,B){var y=e.data(C[0],"treegrid").options;var A=y.finder.getTr(C[0],B);var z=A.find("span.tree-hit");return z.length==0},select:function(z,y){return z.each(function(){e(this).datagrid("selectRow",y)})},unselect:function(z,y){return z.each(function(){e(this).datagrid("unselectRow",y)})},collapse:function(z,y){return z.each(function(){r(this,y)})},expand:function(z,y){return z.each(function(){d(this,y)})},toggle:function(z,y){return z.each(function(){w(this,y)})},collapseAll:function(z,y){return z.each(function(){b(this,y)})},expandAll:function(z,y){return z.each(function(){p(this,y)})},expandTo:function(z,y){return z.each(function(){j(this,y)})},append:function(z,y){return z.each(function(){m(this,y)})},insert:function(z,y){return z.each(function(){x(this,y)})},remove:function(z,y){return z.each(function(){v(this,y)})},pop:function(A,z){var y=A.treegrid("find",z);A.treegrid("remove",z);return y},refresh:function(z,y){return z.each(function(){var A=e.data(this,"treegrid").options;A.view.refreshRow.call(A.view,this,y)})},update:function(z,y){return z.each(function(){var A=e.data(this,"treegrid").options;A.view.updateRow.call(A.view,this,y.id,y.row)})},beginEdit:function(z,y){return z.each(function(){e(this).datagrid("beginEdit",y);e(this).treegrid("fixRowHeight",y)})},endEdit:function(z,y){return z.each(function(){e(this).datagrid("endEdit",y)})},cancelEdit:function(z,y){return z.each(function(){e(this).datagrid("cancelEdit",y)})}};e.fn.treegrid.parseOptions=function(y){return e.extend({},e.fn.datagrid.parseOptions(y),e.parser.parseOptions(y,["treeField",{animate:"boolean"}]))};var s=e.extend({},e.fn.datagrid.defaults.view,{render:function(G,F,D){var B=e.data(G,"treegrid").options;var A=e(G).datagrid("getColumnFields",D);var z=e.data(G,"datagrid").rowIdPrefix;if(D){if(!(B.rownumbers||(B.frozenColumns&&B.frozenColumns.length))){return}}var y=0;var H=this;var E=C(D,this.treeLevel,this.treeNodes);e(F).append(E.join(""));function C(N,M,K){var L=['<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var O=0;O<K.length;O++){var V=K[O];if(V.state!="open"&&V.state!="closed"){V.state="open"}var P=B.rowStyler?B.rowStyler.call(G,V):"";var J="";var I="";if(typeof P=="string"){I=P}else{if(P){J=P["class"]||"";I=P.style||""}}var T='class="datagrid-row '+(y++%2&&B.striped?"datagrid-row-alt ":" ")+J+'"';var U=I?'style="'+I+'"':"";var S=z+"-"+(N?1:2)+"-"+V[B.idField];L.push('<tr id="'+S+'" node-id="'+V[B.idField]+'" '+T+" "+U+">");L=L.concat(H.renderRow.call(H,G,A,N,M,V));L.push("</tr>");if(V.children&&V.children.length){var Q=C(N,M+1,V.children);var R=V.state=="closed"?"none":"block";L.push('<tr class="treegrid-tr-tree"><td style="border:0px" colspan='+(A.length+(B.rownumbers?1:0))+'><div style="display:'+R+'">');L=L.concat(Q);L.push("</div></td></tr>")}}L.push("</tbody></table>");return L}},renderFooter:function(D,C,B){var A=e.data(D,"treegrid").options;var z=e.data(D,"treegrid").footer||[];var G=e(D).datagrid("getColumnFields",B);var E=['<table class="datagrid-ftable" cellspacing="0" cellpadding="0" border="0"><tbody>'];for(var y=0;y<z.length;y++){var F=z[y];F[A.idField]=F[A.idField]||("foot-row-id"+y);E.push('<tr class="datagrid-row" node-id="'+F[A.idField]+'">');E.push(this.renderRow.call(this,D,G,B,0,F));E.push("</tr>")}E.push("</tbody></table>");e(C).html(E.join(""))},renderRow:function(M,L,K,J,O){var I=e.data(M,"treegrid").options;var A=[];if(K&&I.rownumbers){A.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">0</div></td>')}for(var C=0;C<L.length;C++){var H=L[C];var z=e(M).datagrid("getColumnOption",H);if(z){var D=z.styler?(z.styler(O[H],O)||""):"";var G="";var F="";if(typeof D=="string"){F=D}else{if(A){G=D["class"]||"";F=D.style||""}}var N=G?'class="'+G+'"':"";var E=z.hidden?'style="display:none;'+F+'"':(F?'style="'+F+'"':"");A.push('<td field="'+H+'" '+N+" "+E+">");var E="";if(!z.checkbox){if(z.align){E+="text-align:"+z.align+";"}if(!I.nowrap){E+="white-space:normal;height:auto;"}else{if(I.autoRowHeight){E+="height:auto;"}}}A.push('<div style="'+E+'" ');if(z.checkbox){A.push('class="datagrid-cell-check ')}else{A.push('class="datagrid-cell '+z.cellClass)}A.push('">');if(z.checkbox){if(O.checked){A.push('<input type="checkbox" checked="checked"')}else{A.push('<input type="checkbox"')}A.push(' name="'+H+'" value="'+(O[H]!=undefined?O[H]:"")+'">')}else{var y=null;if(z.formatter){y=z.formatter(O[H],O)}else{y=O[H]}if(H==I.treeField){for(var B=0;B<J;B++){A.push('<span class="tree-indent"></span>')}if(O.state=="closed"){A.push('<span class="tree-hit tree-collapsed"></span>');A.push('<span class="tree-icon tree-folder '+(O.iconCls?O.iconCls:"")+'"></span>')}else{if(O.children&&O.children.length){A.push('<span class="tree-hit tree-expanded"></span>');A.push('<span class="tree-icon tree-folder tree-folder-open '+(O.iconCls?O.iconCls:"")+'"></span>')}else{A.push('<span class="tree-indent"></span>');A.push('<span class="tree-icon tree-file '+(O.iconCls?O.iconCls:"")+'"></span>')}}A.push('<span class="tree-title">'+y+"</span>")}else{A.push(y)}}A.push("</div>");A.push("</td>")}}return A.join("")},refreshRow:function(y,z){this.updateRow.call(this,y,z,{})},updateRow:function(C,F,E){var A=e.data(C,"treegrid").options;var z=e(C).treegrid("find",F);e.extend(z,E);var y=e(C).treegrid("getLevel",F)-1;var D=A.rowStyler?A.rowStyler.call(C,z):"";function B(J){var I=e(C).treegrid("getColumnFields",J);var K=A.finder.getTr(C,F,"body",(J?1:2));var H=K.find("div.datagrid-cell-rownumber").html();var G=K.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");K.html(this.renderRow(C,I,J,y,z));K.attr("style",D||"");K.find("div.datagrid-cell-rownumber").html(H);if(G){K.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",true)}}B.call(this,true);B.call(this,false);e(C).treegrid("fixRowHeight",F)},deleteRow:function(C,E){var B=e.data(C,"treegrid").options;var D=B.finder.getTr(C,E);D.next("tr.treegrid-tr-tree").remove();D.remove();var A=y(E);if(A){if(A.children.length==0){D=B.finder.getTr(C,A[B.idField]);D.next("tr.treegrid-tr-tree").remove();var z=D.children('td[field="'+B.treeField+'"]').children("div.datagrid-cell");z.find(".tree-icon").removeClass("tree-folder").addClass("tree-file");z.find(".tree-hit").remove();e('<span class="tree-indent"></span>').prependTo(z)}}function y(I){var H;var F=e(C).treegrid("getParent",I);if(F){H=F.children}else{H=e(C).treegrid("getData")}for(var G=0;G<H.length;G++){if(H[G][B.idField]==I){H.splice(G,1);break}}return F}},onBeforeRender:function(E,C,B){if(e.isArray(C)){B={total:C.length,rows:C};C=null}if(!B){return false}var A=e.data(E,"treegrid");var y=A.options;if(B.length==undefined){if(B.footer){A.footer=B.footer}if(B.total){A.total=B.total}B=this.transfer(E,C,B.rows)}else{function D(I,G){for(var F=0;F<I.length;F++){var H=I[F];H._parentId=G;if(H.children&&H.children.length){D(H.children,H[y.idField])}}}D(B,C)}var z=c(E,C);if(z){if(z.children){z.children=z.children.concat(B)}else{z.children=B}}else{A.data=A.data.concat(B)}this.sort(E,B);this.treeNodes=B;this.treeLevel=e(E).treegrid("getLevel",C)},sort:function(D,B){var C=e.data(D,"treegrid").options;if(!C.remoteSort&&C.sortName){var A=C.sortName.split(",");var z=C.sortOrder.split(",");y(B)}function y(F){F.sort(function(J,I){var M=0;for(var L=0;L<A.length;L++){var O=A[L];var N=z[L];var K=e(D).treegrid("getColumnOption",O);var H=K.sorter||function(Q,P){return Q==P?0:(Q>P?1:-1)};M=H(J[O],I[O])*(N=="asc"?1:-1);if(M!=0){return M}}return M});for(var G=0;G<F.length;G++){var E=F[G].children;if(E&&E.length){y(E)}}}},transfer:function(C,A,z){var G=e.data(C,"treegrid").options;var F=[];for(var y=0;y<z.length;y++){F.push(z[y])}var E=[];for(var y=0;y<F.length;y++){var H=F[y];if(!A){if(!H._parentId){E.push(H);F.splice(y,1);y--}}else{if(H._parentId==A){E.push(H);F.splice(y,1);y--}}}var D=[];for(var y=0;y<E.length;y++){D.push(E[y])}while(D.length){var B=D.shift();for(var y=0;y<F.length;y++){var H=F[y];if(H._parentId==B[G.idField]){if(B.children){B.children.push(H)}else{B.children=[H]}D.push(H);F.splice(y,1);y--}}}return E}});e.fn.treegrid.defaults=e.extend({},e.fn.datagrid.defaults,{treeField:null,animate:false,singleSelect:true,view:s,loader:function(B,A,y){var z=e(this).treegrid("options");if(!z.url){return false}e.ajax({type:z.method,url:z.url,data:B,dataType:"json",success:function(C){A(C)},error:function(){y.apply(this,arguments)}})},loadFilter:function(z,y){return z},finder:{getTr:function(G,z,D,E){D=D||"body";E=E||0;var F=e.data(G,"datagrid").dc;if(E==0){var y=e.data(G,"treegrid").options;var B=y.finder.getTr(G,z,D,1);var A=y.finder.getTr(G,z,D,2);return B.add(A)}else{if(D=="body"){var C=e("#"+e.data(G,"datagrid").rowIdPrefix+"-"+E+"-"+z);if(!C.length){C=(E==1?F.body1:F.body2).find('tr[node-id="'+z+'"]')}return C}else{if(D=="footer"){return(E==1?F.footer1:F.footer2).find('tr[node-id="'+z+'"]')}else{if(D=="selected"){return(E==1?F.body1:F.body2).find("tr.datagrid-row-selected")}else{if(D=="highlight"){return(E==1?F.body1:F.body2).find("tr.datagrid-row-over")}else{if(D=="checked"){return(E==1?F.body1:F.body2).find("tr.datagrid-row-checked")}else{if(D=="last"){return(E==1?F.body1:F.body2).find("tr:last[node-id]")}else{if(D=="allbody"){return(E==1?F.body1:F.body2).find("tr[node-id]")}else{if(D=="allfooter"){return(E==1?F.footer1:F.footer2).find("tr[node-id]")}}}}}}}}}},getRow:function(y,z){var A=(typeof z=="object")?z.attr("node-id"):z;return e(y).treegrid("find",A)},getRows:function(y){return e(y).treegrid("getChildren")}},onBeforeLoad:function(y,z){},onLoadSuccess:function(z,y){},onLoadError:function(){},onBeforeCollapse:function(y){},onCollapse:function(y){},onBeforeExpand:function(y){},onExpand:function(y){},onClickRow:function(y){},onDblClickRow:function(y){},onClickCell:function(z,y){},onDblClickCell:function(y,z){},onContextMenu:function(y,z){},onBeforeEdit:function(y){},onAfterEdit:function(z,y){},onCancelEdit:function(y){}})})(jQuery);