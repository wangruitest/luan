(function(d){function a(h){var g=d.data(h,"linkbutton").options;var f=d(h).empty();f.addClass("l-btn").removeClass("l-btn-plain l-btn-selected l-btn-plain-selected");f.removeClass("l-btn-small l-btn-medium l-btn-large").addClass("l-btn-"+g.size);if(g.plain){f.addClass("l-btn-plain")}if(g.selected){f.addClass(g.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected")}f.attr("group",g.group||"");f.attr("id",g.id||"");var e=d('<span class="l-btn-left"></span>').appendTo(f);if(g.text){d('<span class="l-btn-text"></span>').html(g.text).appendTo(e)}else{d('<span class="l-btn-text l-btn-empty">&nbsp;</span>').appendTo(e)}if(g.iconCls){d('<span class="l-btn-icon">&nbsp;</span>').addClass(g.iconCls).appendTo(e);e.addClass("l-btn-icon-"+g.iconAlign)}f.unbind(".linkbutton").bind("focus.linkbutton",function(){if(!g.disabled){d(this).addClass("l-btn-focus")}}).bind("blur.linkbutton",function(){d(this).removeClass("l-btn-focus")}).bind("click.linkbutton",function(){if(!g.disabled){if(g.toggle){if(g.selected){d(this).linkbutton("unselect")}else{d(this).linkbutton("select")}}g.onClick.call(this)}return false});c(h,g.selected);b(h,g.disabled)}function c(g,e){var f=d.data(g,"linkbutton").options;if(e){if(f.group){d('a.l-btn[group="'+f.group+'"]').each(function(){var h=d(this).linkbutton("options");if(h.toggle){d(this).removeClass("l-btn-selected l-btn-plain-selected");h.selected=false}})}d(g).addClass(f.plain?"l-btn-selected l-btn-plain-selected":"l-btn-selected");f.selected=true}else{if(!f.group){d(g).removeClass("l-btn-selected l-btn-plain-selected");f.selected=false}}}function b(i,f){var h=d.data(i,"linkbutton");var g=h.options;d(i).removeClass("l-btn-disabled l-btn-plain-disabled");if(f){g.disabled=true;var e=d(i).attr("href");if(e){h.href=e;d(i).attr("href","javascript:void(0)")}if(i.onclick){h.onclick=i.onclick;i.onclick=null}g.plain?d(i).addClass("l-btn-disabled l-btn-plain-disabled"):d(i).addClass("l-btn-disabled")}else{g.disabled=false;if(h.href){d(i).attr("href",h.href)}if(h.onclick){i.onclick=h.onclick}}}d.fn.linkbutton=function(e,f){if(typeof e=="string"){return d.fn.linkbutton.methods[e](this,f)}e=e||{};return this.each(function(){var g=d.data(this,"linkbutton");if(g){d.extend(g.options,e)}else{d.data(this,"linkbutton",{options:d.extend({},d.fn.linkbutton.defaults,d.fn.linkbutton.parseOptions(this),e)});d(this).removeAttr("disabled")}a(this)})};d.fn.linkbutton.methods={options:function(e){return d.data(e[0],"linkbutton").options},enable:function(e){return e.each(function(){b(this,false)})},disable:function(e){return e.each(function(){b(this,true)})},select:function(e){return e.each(function(){c(this,true)})},unselect:function(e){return e.each(function(){c(this,false)})}};d.fn.linkbutton.parseOptions=function(f){var e=d(f);return d.extend({},d.parser.parseOptions(f,["id","iconCls","iconAlign","group","size",{plain:"boolean",toggle:"boolean",selected:"boolean"}]),{disabled:(e.attr("disabled")?true:undefined),text:d.trim(e.html()),iconCls:(e.attr("icon")||e.attr("iconCls"))})};d.fn.linkbutton.defaults={id:null,disabled:false,toggle:false,selected:false,group:null,plain:false,text:"",iconCls:null,iconAlign:"left",size:"small",onClick:function(){}}})(jQuery);