var Wizard=function(c,b){var a;this.$element=$(c);this.options=$.extend({},$.fn.wizard.defaults,b);this.currentStep=this.options.selectedItem.step;this.numSteps=this.$element.find(".steps li").length;this.$prevBtn=this.$element.find("button.btn-prev");this.$nextBtn=this.$element.find("button.btn-next");a=this.$nextBtn.children().detach();this.nextText=$.trim(this.$nextBtn.text());this.$nextBtn.append(a);this.$prevBtn.on("click",$.proxy(this.previous,this));this.$nextBtn.on("click",$.proxy(this.next,this));this.$element.on("click","li.complete",$.proxy(this.stepclicked,this));if(this.currentStep>1){this.selectedItem(this.options.selectedItem)}};Wizard.prototype={constructor:Wizard,setState:function(){var n=(this.currentStep>1);var o=(this.currentStep===1);var a=(this.currentStep===this.numSteps);this.$prevBtn.attr("disabled",(o===true||n===false));var e=this.$nextBtn.data();if(e&&e.last){this.lastText=e.last;if(typeof this.lastText!=="undefined"){var l=(a!==true)?this.nextText:this.lastText;var c=this.$nextBtn.children().detach();this.$nextBtn.text(l).append(c)}}var i=this.$element.find(".steps li");i.removeClass("active").removeClass("complete");i.find("span.badge").removeClass("badge-primary").removeClass("badge-success");var m=".steps li:lt("+(this.currentStep-1)+")";var d=this.$element.find(m);d.addClass("complete");d.find("span.badge").addClass("badge-success");var b=".steps li:eq("+(this.currentStep-1)+")";var k=this.$element.find(b);k.addClass("active");k.find("span.badge").addClass("badge-primary");var h=k.data().target;this.$element.find(".step-pane").removeClass("active");$(h).addClass("active");$(".wizard .steps").attr("style","margin-left: 0");var g=0;$(".wizard .steps > li").each(function(){g+=$(this).outerWidth()});var j=0;if($(".wizard .actions").length){j=$(".wizard").width()-$(".wizard .actions").outerWidth()}else{j=$(".wizard").width()}if(g>j){var f=g-j;$(".wizard .steps").attr("style","margin-left: -"+f+"px");if($(".wizard li.active").position().left<200){f+=$(".wizard li.active").position().left-200;if(f<1){$(".wizard .steps").attr("style","margin-left: 0")}else{$(".wizard .steps").attr("style","margin-left: -"+f+"px")}}}this.$element.trigger("changed")},stepclicked:function(d){var a=$(d.currentTarget);var c=this.$element.find(".steps li").index(a);var b=$.Event("stepclick");this.$element.trigger(b,{step:c+1});if(b.isDefaultPrevented()){return}this.currentStep=(c+1);this.setState()},previous:function(){var a=(this.currentStep>1);if(a){var b=$.Event("change");this.$element.trigger(b,{step:this.currentStep,direction:"previous"});if(b.isDefaultPrevented()){return}this.currentStep-=1;this.setState()}},next:function(){var c=(this.currentStep+1<=this.numSteps);var a=(this.currentStep===this.numSteps);if(c){var b=$.Event("change");this.$element.trigger(b,{step:this.currentStep,direction:"next"});if(b.isDefaultPrevented()){return}this.currentStep+=1;this.setState()}else{if(a){this.$element.trigger("finished")}}},selectedItem:function(b){var c,a;if(b){a=b.step||-1;if(a>=1&&a<=this.numSteps){this.currentStep=a;this.setState()}c=this}else{c={step:this.currentStep}}return c}};$.fn.wizard=function(b,d){var c;var a=this.each(function(){var g=$(this);var f=g.data("wizard");var e=typeof b==="object"&&b;if(!f){g.data("wizard",(f=new Wizard(this,e)))}if(typeof b==="string"){c=f[b](d)}});return(c===undefined)?a:c};$.fn.wizard.defaults={selectedItem:{step:1}};$.fn.wizard.Constructor=Wizard;$(function(){$("body").on("mousedown.wizard.data-api",".wizard",function(){var a=$(this);if(a.data("wizard")){return}a.wizard(a.data())})});